# Development Log

* **Project Title**: Atelier

* **Date**: 2025-04-16

* **Current Task/Goal**: 
  Designing and implementing a 3-tier architecture for a high-availability and scalable e-commerce application. The architecture includes:
  - A Next.js frontend served via a CloudFront distribution.
  - An Application Load Balancer (ALB) for the frontend Auto Scaling Group (ASG) with a minimum of 1 instance and a maximum of 3.
  - A similar ALB + ASG setup for the backend Express API.
  - A CloudFront distribution for the backend.
  - A DynamoDB Global Table with replicas in 2 regions.

* **Progress/Updates**:
  - Spent 2 days creating CloudFormation templates for the network and database stacks.
  - Developed GitHub workflows to deploy and destroy stacks using the CloudFormation templates.

* **Challenges Encountered**:
  - Lack of prior experience with GitHub Actions:
    - Workflows are running successfully in the production branch but fail to execute on the `release/v1` branch.
    - Manual workflows are not functioning as expected.
  - Managing separate workflows for deploying and destroying stacks is cumbersome. With the current approach, there could eventually be 20+ workflow files just to manage the entire stack.
  - Realized there must be a more efficient way to handle this.

* **Decisions Made**:
  - Recalled the existence of AWS CDK (Cloud Development Kit) and researched its usage.
  - Found AWS CDK to be a cleaner and more efficient alternative to CloudFormation templates.
  - Decided to transition from CloudFormation templates to AWS CDK for managing the infrastructure.

* **Solutions/Workarounds**:
  - Began exploring AWS CDK as a replacement for CloudFormation templates to simplify stack management and reduce the complexity of GitHub workflows.

* **Next Steps**:
  - Start implementing the network and database stacks using AWS CDK.
  - Refactor the GitHub workflows to align with the AWS CDK deployment process.
  - Test the new approach to ensure it resolves the challenges faced with CloudFormation templates and GitHub Actions.

* **Reflections/Learnings**:
  - Using tools like AWS CDK can significantly simplify infrastructure management and reduce complexity.
  - It's important to leverage existing tools and frameworks rather than reinventing the wheel.
  - Learning new tools (like GitHub Actions) can be challenging but is essential for streamlining development workflows.